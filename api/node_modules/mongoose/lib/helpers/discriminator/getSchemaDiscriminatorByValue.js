'use strict';

const areDiscriminatorValuesEqual = require('./areDiscriminatorValuesEqual');

<<<<<<< HEAD
/*!
* returns discriminator by discriminatorMapping.value
*
* @param {Schema} schema
* @param {string} value
*/
=======
/**
 * returns discriminator by discriminatorMapping.value
 *
 * @param {Schema} schema
 * @param {string} value
 * @api private
 */
>>>>>>> 895f4278cd300f98295191297723a8c0711282fe

module.exports = function getSchemaDiscriminatorByValue(schema, value) {
  if (schema == null || schema.discriminators == null) {
    return null;
  }
  for (const key of Object.keys(schema.discriminators)) {
    const discriminatorSchema = schema.discriminators[key];
    if (discriminatorSchema.discriminatorMapping == null) {
      continue;
    }
    if (areDiscriminatorValuesEqual(discriminatorSchema.discriminatorMapping.value, value)) {
      return discriminatorSchema;
    }
  }
  return null;
<<<<<<< HEAD
};
=======
};
>>>>>>> 895f4278cd300f98295191297723a8c0711282fe
